{% extends 'base.html' %}
{% block content %}
<style>
  .table {
    border: 1px solid #D0C3B4;
  }
</style>
<div class="container">
  <br><br>
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th style="background-color: #D0C3B4;">번호</th>
        <th style="background-color: #D0C3B4;">제목</th>
        <th style="background-color: #D0C3B4;">등록일</th>
        <th style="background-color: #D0C3B4;">좋아요</th>
        <th style="background-color: #D0C3B4;">조회수</th>
      </tr>
    </thead>
    <tbody>
      {% for board in posts %}
      <tr>
        <td>{{board.id }} </td>
        <td><a href="{% url 'detail' board.id %}" title="{{board.summary}}">{{board.title}}</a></td>
        
</div>
<td>{{ board.pub_date }}</td>
<td>{{ board.like }}</td>
<td>{{ board.hits }} </td>
</tr>

{%endfor%}
</tbody>


</table>
<a class="btn btn-outline-light" href="{% url 'new' %}" title="{{board.body}}" style="float: right;">글쓰기</a>

<br>

<!--pagenation-->
<nav aria-label="container">
  <ul class="pagination justify-content-center">
    <li class="page-item">
      {%if posts.has_previous%}
      <a class="page-link" href="?page={{posts.previous_page_number}}" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
        {%endif%}
      </a>
    </li>
    {% for page in page_range %}
    <li {% if page == page_obj.number %}class="active" {% endif %} class="page-item"><a class="page-link" a
        href="?page={{ page }}">{{ page }}</a></li>
    {% endfor %}
    <li class="page-item">
      {%if posts.has_next%}
      <a class="page-link" href="?page={{posts.next_page_number}}" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
        {%endif%}

      </a>
    </li>


    <!-- 검색기능 -->
    <div id="content">
      <form action="{% url 'search' %}" method="POST">
          {% csrf_token %}
          <table>
                  {{form.as_table}}
          </table>
          <input type="submit" value="Search">
      </form>
  
      <br><br>
  
      {% if object_list %}
          {% for post in object_list %}
              <h2><a href="{{post.get_absolute_url}}">{{ post.title }}</a></h2>
              {{ post.created_at|date:'N d, Y' }}
              <p>{{ post.context }}</p>
          {% endfor %}
      {% elif search_term %}
          <b><i>Search Word({{ search_term }}) Not Found !</i></b>
      {% endif %}
  </div>
    
  </ul>
</nav>
</div>
{% endblock %}