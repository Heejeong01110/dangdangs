{% extends 'base.html' %}
{% block content %}
<style>
  .table {
    border: 1px solid #D0C3B4;
  }
</style>

<center>
  <div class="container">
    <br><br>
    <table class="table table-bordered text-center">
      <thead class="thead-light">
        <tr>
          <th style="background-color: #D0C3B4;" width="10%">번호</th>
          <th style="background-color: #D0C3B4;" width="20%">제목</th>
          <th style="background-color: #D0C3B4;" width="20%">작성자</th>
          <th style="background-color: #D0C3B4;" width="30%">등록일</th>
          <th style="background-color: #D0C3B4;" width="10%">좋아요</th>
          <th style="background-color: #D0C3B4;" width="10%">조회수</th>
        </tr>
      </thead>
      <tbody>
        {% for board in posts %}
        <tr>
          <td>{{board.id }} </td>
          <td><a href="{% url 'detail' board.id %}" title="{{board.summary}}">{{board.title}}</a></td>
          <td>{{ board.author }}</td>
          <td>{{ board.pub_date }}</td>
          <td>{{ board.like }}</td>
          <!-- 하트 아이콘 // <p>&hearts;</p> // 안보이다가 detail에서 하트 누르면  board에서 ♥  1 공백 // <p> &nbsp </p>-->
          <td>{{ board.hits }} </td>

        </tr>

        {%endfor%}

        {% if object_list %}
        {% for post in object_list %}
        <tr>
          <td>{{post.id }} </td>
          <td><a href="{% url 'detail' post.id %}" title="{{board.summary}}">{{post.title}}</a></td>
          <!--
                <h2><a href="{{post.get_absolute_url}}">{{ post.title }}</a></h2>
                {{ post.created_at|date:'N d, Y' }}
          -->
          <td>{{ post.author }}</td>
          <td>{{ post.pub_date }}</td>
          <td>{{ post.comments.count }}</td>
          <td>{{ post.hits }} </td>
        </tr>
        {% endfor %}
        {% elif search_term %}
        <!--
          {{ search_term }}을 찾을 수 없습니다.
        -->
        {% endif %}

      </tbody>
    </table>

    <!-- 글쓰기 -->
    <a class="btn btn-outline-light" href="{% url 'new' %}" title="{{board.body}}" style="float: right;">글쓰기</a>


    <br>
    <!--pagenation-->
    <div>
      <ul class="pagination justify-content-center">
        <li class="page-item">
          {%if posts.has_previous%}
          <a class="page-link" href="?page={{posts.previous_page_number}}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            {%endif%}
          </a>
        </li>
        {% for page in page_range %}
        <li {% if page == page_obj.number %}class="active" {% endif %} class="page-item"><a class="page-link" a
            href="?page={{ page }}">{{ page }}</a></li>
        {% endfor %}
        <li class="page-item">
          {%if posts.has_next%}
          <a class="page-link" href="?page={{posts.next_page_number}}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            {%endif%}
          </a>
        </li>
      </ul>
    </div>

    <!-- 검색기능 -->
    <form action="{% url 'search' %}" method="POST">
      {% csrf_token %}
      <table>
        <tr>
          <td>
            <input type="text" name="search_word" required id="id_search_word">
            <input class="btn btn-outline-light" type="submit" value="검색하기">
          </td>
        </tr>
      </table>
    </form>
    <br>
  </div>

  <!-- 메시지 출력 -->
  {% if messages %}
  <div class="messages">
    {% for message in messages %}
    <div {% if message.tags %} class="alert alert-{{ message.tags }}" {% endif %}>
      {{ message.message }}
    </div>
    {% endfor %}
  </div>
  {% endif %}

</center>
{% endblock %}